<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>Naruto Monolito ‚Äî Gesti√≥n</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; padding:18px; color:#222; }
  header { text-align:center; margin-bottom:14px; }
  h1 { color:#c62828; margin:0; }
  .container { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
  section { background:#fff; padding:12px; border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.06); }
  .full { grid-column:1 / -1; }
  label { display:block; font-size:13px; margin-top:8px; }
  input[type="text"], input[type="number"], select, textarea { width:100%; box-sizing:border-box; padding:6px 8px; margin-top:6px; border-radius:6px; border:1px solid #ccd; }
  button { margin-top:8px; padding:8px 12px; border-radius:6px; border:0; background:#0b5; color:#fff; cursor:pointer; }
  button.secondary { background:#0077b6; }
  button.danger { background:#d62828; }
  ul { list-style:none; padding:0; margin:0; }
  li.card { border:1px solid #e3e7ea; padding:8px; margin-bottom:8px; border-radius:6px; background:#fbfeff; }
  .muted { color:#666; font-size:13px; }
  .row { display:flex; gap:8px; align-items:center; }
  .small { font-size:13px; padding:6px 8px; }
  .notice { background:#fff3cd; border:1px solid #ffeeba; padding:8px; border-radius:6px; margin-bottom:8px; color:#856404; }
  .error { background:#fdecea; border:1px solid #f5c6cb; padding:8px; border-radius:6px; margin-bottom:8px; color:#842029; }
</style>
</head>
<body>
<header>
  <h1>üåÄ Naruto Monolito ‚Äî Panel de Gesti√≥n</h1>
  <p class="muted">Crear / listar / asignar / exportar ‚Äî interfaz funcional</p>
</header>

<div id="messages"></div>

<div class="container">

  <!-- ALDEAS: listar y crear -->
  <section>
    <h2>Aldeas</h2>
    <div class="row">
      <button id="btnLoadAldeas" class="secondary small">Cargar aldeas</button>
      <button id="btnOpenCrearAldea" class="small">Crear aldea</button>
    </div>

    <div id="crearAldeaBox" style="display:none; margin-top:10px;">
      <label>Nombre</label>
      <input id="aldeaNombre" type="text" />
      <label>Pa√≠s</label>
      <input id="aldeaPais" type="text" />
      <label>Descripci√≥n</label>
      <textarea id="aldeaDescripcion" rows="2"></textarea>
      <div class="row">
        <button id="btnCrearAldea">Crear</button>
        <button id="btnCancelarCrearAldea" class="danger small">Cancelar</button>
      </div>
    </div>

    <ul id="listaAldeas" style="margin-top:12px;"></ul>
  </section>

  <!-- NINJAS: crear y listar -->
  <section>
    <h2>Ninjas</h2>

    <label>Nombre</label>
    <input id="ninjaNombre" type="text" placeholder="Ej: Naruto Uzumaki" />
    <label>Rango</label>
    <select id="ninjaRango">
      <option>GENIN</option><option>CHUNIN</option><option>JONIN</option>
    </select>

    <label>Ataque</label>
    <input id="ninjaAtaque" type="number" value="50" />
    <label>Defensa</label>
    <input id="ninjaDefensa" type="number" value="50" />
    <label>Chakra</label>
    <input id="ninjaChakra" type="number" value="50" />

    <label>Aldea</label>
    <select id="ninjaAldea"><option value="">-- Selecciona aldea --</option></select>

    <div style="margin-top:10px;">
      <strong>Jutsus</strong>
      <div id="jutsusContainer"></div>
      <div class="row" style="margin-top:8px;">
        <button id="btnAddJutsu" class="small">+ A√±adir jutsu</button>
        <button id="btnClearJutsus" class="small">Limpiar jutsus</button>
      </div>
    </div>

    <div class="row" style="margin-top:10px;">
      <button id="btnCrearNinja">Registrar Ninja</button>
      <button id="btnLoadNinjas" class="secondary small">Listar Ninjas</button>
    </div>

    <hr />
    <ul id="listaNinjas" style="margin-top:8px;"></ul>
  </section>

  <!-- MISIONES: crear y listar -->
  <section>
    <h2>Misiones</h2>
    <label>Nombre</label>
    <input id="misionNombre" type="text" />
    <label>Descripci√≥n</label>
    <input id="misionDesc" type="text" />
    <label>Dificultad</label>
    <select id="misionDificultad">
      <option value="D">D</option><option value="C">C</option><option value="B">B</option><option value="A">A</option><option value="S">S</option>
    </select>
    <label>Recompensa</label>
    <input id="misionRecompensa" type="number" value="100" />

    <div class="row" style="margin-top:10px;">
      <button id="btnCrearMision">Crear Misi√≥n</button>
      <button id="btnLoadMisiones" class="secondary small">Listar Misiones</button>
    </div>

    <hr />
    <ul id="listaMisiones" style="margin-top:8px;"></ul>
  </section>

  <!-- ASIGNACI√ìN R√ÅPIDA -->
  <section>
    <h2>Asignar Ninja a Misi√≥n</h2>
    <label>Misi√≥n</label>
    <select id="selectAsignarMision"></select>
    <label>Ninja</label>
    <select id="selectAsignarNinja"></select>
    <div class="row" style="margin-top:10px;">
      <button id="btnAsignar">Asignar</button>
    </div>
    <div id="assignResult" style="margin-top:8px;"></div>
  </section>

  <!-- EXPORTES -->
  <section class="full">
    <h2>Exportar Informes</h2>
    <p class="muted">Generar informes que contienen aldeas, ninjas y misiones.</p>
    <div class="row">
      <button onclick="exportar('json')" class="secondary small">Exportar JSON</button>
      <button onclick="exportar('xml')" class="secondary small">Exportar XML</button>
      <button onclick="exportar('txt')" class="secondary small">Exportar TXT</button>
    </div>
    <p class="muted" style="margin-top:8px;">Los archivos se descargan autom√°ticamente y el servidor los genera en carpeta <code>/export/</code>.</p>
  </section>

</div>

<script src="app.js"></script>
</body>
</html>
